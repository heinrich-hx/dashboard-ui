<div class="m-4">
  <db-button type="blank" (click)="navigateBack()">
    <db-icon icon="arrow-left"></db-icon>
  </db-button>
</div>

<db-container class="my-24 max-w-xs">

  <ng-container *ngIf="currentUser; else showLoginForm">
    <db-panel class="flex justify-between items-center my-8">
      <db-icon icon="circle-user" class="text-red-500 text-4xl"></db-icon>
      {{ currentUser }}
    </db-panel>
    <div class="flex justify-end my-4">
      <db-button (click)="logOut()">
        Log out
      </db-button>
    </div>
  </ng-container>

  <ng-template #showLoginForm>

    <!-- TODO set up form -->
    <form>

      <db-input label="Username" name="username" [(model)]="loginModel.name" [required]="true"></db-input>
      <db-input label="Password" name="password" [(model)]="loginModel.password" [required]="true" type="password"></db-input>

      <div class="flex justify-end my-4 gap-2">
        <db-button type="blank" routerLink="/reset-password">
          Reset password
        </db-button>
        <db-button (click)="logIn()">
          Log in
        </db-button>
      </div>

    </form>
  </ng-template>

</db-container>
