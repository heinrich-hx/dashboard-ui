<div class="m-4">
  <db-button type="blank" class="mx-0" (click)="navigateBack()">
    <db-icon icon="arrow-left"></db-icon>
  </db-button>
</div>

<db-container class="my-24">

  <div class="flex justify-between max-w-md mx-auto" *ngIf="currentUser; else showLoginForm">
    <div>
      <db-icon icon="user" class="text-red-500 text-4xl"></db-icon>
      {{ currentUser }}
    </div>
    <div class="mx-4 my-2">
      <db-button class="px-4 py-1" (click)="logOut()">
        Log out
      </db-button>
    </div>
  </div>

  <ng-template #showLoginForm>

    <!-- TODO set up form -->
    <form class="max-w-md mx-auto">

      <db-input label="Username" name="username" [(model)]="loginModel.name" [required]="true"></db-input>
      <db-input label="Password" name="password" [(model)]="loginModel.password" [required]="true"></db-input>

      <div class="flex justify-end my-4 gap-2">
        <db-button type="blank" routerLink="/reset-password">
          Reset password
        </db-button>
        <db-button (click)="logIn()">
          Log in
        </db-button>
      </div>

    </form>
  </ng-template>

</db-container>
